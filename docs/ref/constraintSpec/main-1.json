{"format": "json", "view": "single", "doc": "p5.xml", "root": null, "rootNode": "1.7.4.44.29.22.16", "id": null, "odd": "tei.odd", "next": null, "previous": null, "nextId": null, "previousId": null, "switchView": null, "content": "<!DOCTYPE html>\n\n<div class=\"content\"><div class=\"element-spec\"><h3 class=\"ident\">constraintSpec</h3><table><tr><td colspan=\"2\"><span class=\"ident bracket\">constraintSpec</span><span class=\"tei-gloss1 gloss\">constraint on schema</span> <span class=\"tei-desc2\">contains a formal constraint, typically expressed in a rule-based schema language, to which a construct must conform in order to be considered valid</span> [<a class=\"inner-ref\" href=\"/p5.xml?id=TDTAG\">22.5 Element Specifications</a> ]</td></tr><tr><td>Module</td><td>tagdocs â€” <span class=\"tei-desc2\">Documentation of TEI and other XML markup languages</span></td></tr><tr><td>Attributes</td><td><dl class=\"att-class\"><li class=\"tei-item\"><a class=\"tei-ref3\" href=\"/ref/att.global\" target=\"\">att.global</a> ( @xml:id ,  @n ,  @xml:lang ,  @xml:base ,  @xml:space )  (<a class=\"tei-ref3\" href=\"/ref/att.global.rendition\" target=\"\">att.global.rendition</a> ( @rend ,  @style ,  @rendition ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.linking\" target=\"\">att.global.linking</a> ( @corresp ,  @synch ,  @sameAs ,  @copyOf ,  @next ,  @prev ,  @exclude ,  @select ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.analytic\" target=\"\">att.global.analytic</a> ( @ana ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.facs\" target=\"\">att.global.facs</a> ( @facs ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.change\" target=\"\">att.global.change</a> ( @change ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.responsibility\" target=\"\">att.global.responsibility</a> ( @cert ,  @resp ) )  (<a class=\"tei-ref3\" href=\"/ref/att.global.source\" target=\"\">att.global.source</a> ( @source ) )</li><li class=\"tei-item\"><a class=\"tei-ref3\" href=\"/ref/att.identified\" target=\"\">att.identified</a> ( @ident ,  @predeclare ,  @module )  (<a class=\"tei-ref3\" href=\"/ref/att.combinable\" target=\"\">att.combinable</a> ( @mode )  (<a class=\"tei-ref3\" href=\"/ref/att.deprecated\" target=\"\">att.deprecated</a> ( @validUntil ) ) )</li><li class=\"tei-item\"><a class=\"tei-ref3\" href=\"/ref/att.typed\" target=\"\">att.typed</a> (<span class=\"tei-hi1 strike-through\">@type</span>,  @subtype )</li></dl>\n<dl><dt>@scheme</dt><dd><span class=\"tei-desc2\">supplies the name of the language in which the constraints\n      are defined</span><dl><dt>Usage</dt><dd>req</dd><dt>Datatype</dt><dd>teidata.enumerated</dd></dl></dd></dl>\n<dl><dt>@type</dt><dd><span class=\"tei-desc2\">characterizes the\n      <a class=\"tei-gi\" href=\"/ref/constraintSpec\" target=\"\">constraintSpec</a> element in some sense; used to indicate\n      when a <a class=\"tei-gi\" href=\"/ref/constraintSpec\" target=\"\">constraintSpec</a> warns about a deprecated\n      construct.</span><dl><dt>Usage</dt><dd></dd><dt>Datatype</dt><dd>teidata.enumerated</dd></dl></dd></dl>\n</td></tr><tr><td>Member of</td><td><a class=\"tei-memberOf\" href=\"/ref/model.oddDecl\" target=\"\">model.oddDecl</a> </td></tr><tr><td>Contained by</td><td><div class=\"module\"><h4>core</h4>:\n            <ul><li><a href=\"/ref/add\">add</a></li><li><a href=\"/ref/corr\">corr</a></li><li><a href=\"/ref/del\">del</a></li><li><a href=\"/ref/desc\">desc</a></li><li><a href=\"/ref/emph\">emph</a></li><li><a href=\"/ref/head\">head</a></li><li><a href=\"/ref/hi\">hi</a></li><li><a href=\"/ref/item\">item</a></li><li><a href=\"/ref/l\">l</a></li><li><a href=\"/ref/meeting\">meeting</a></li><li><a href=\"/ref/note\">note</a></li><li><a href=\"/ref/orig\">orig</a></li><li><a href=\"/ref/p\">p</a></li><li><a href=\"/ref/q\">q</a></li><li><a href=\"/ref/quote\">quote</a></li><li><a href=\"/ref/ref\">ref</a></li><li><a href=\"/ref/reg\">reg</a></li><li><a href=\"/ref/said\">said</a></li><li><a href=\"/ref/sic\">sic</a></li><li><a href=\"/ref/stage\">stage</a></li><li><a href=\"/ref/title\">title</a></li><li><a href=\"/ref/unclear\">unclear</a></li></ul></div><div class=\"module\"><h4>dictionaries</h4>:\n            <ul><li><a href=\"/ref/case\">case</a></li><li><a href=\"/ref/colloc\">colloc</a></li><li><a href=\"/ref/def\">def</a></li><li><a href=\"/ref/dictScrap\">dictScrap</a></li><li><a href=\"/ref/entryFree\">entryFree</a></li><li><a href=\"/ref/etym\">etym</a></li><li><a href=\"/ref/form\">form</a></li><li><a href=\"/ref/gen\">gen</a></li><li><a href=\"/ref/gram\">gram</a></li><li><a href=\"/ref/gramGrp\">gramGrp</a></li><li><a href=\"/ref/hyph\">hyph</a></li><li><a href=\"/ref/iType\">iType</a></li><li><a href=\"/ref/lang\">lang</a></li><li><a href=\"/ref/lbl\">lbl</a></li><li><a href=\"/ref/mood\">mood</a></li><li><a href=\"/ref/number\">number</a></li><li><a href=\"/ref/orth\">orth</a></li><li><a href=\"/ref/per\">per</a></li><li><a href=\"/ref/pos\">pos</a></li><li><a href=\"/ref/pron\">pron</a></li><li><a href=\"/ref/stress\">stress</a></li><li><a href=\"/ref/subc\">subc</a></li><li><a href=\"/ref/syll\">syll</a></li><li><a href=\"/ref/tns\">tns</a></li><li><a href=\"/ref/usg\">usg</a></li><li><a href=\"/ref/xr\">xr</a></li></ul></div><div class=\"module\"><h4>drama</h4>:\n            <ul><li><a href=\"/ref/camera\">camera</a></li><li><a href=\"/ref/caption\">caption</a></li><li><a href=\"/ref/castList\">castList</a></li><li><a href=\"/ref/epilogue\">epilogue</a></li><li><a href=\"/ref/performance\">performance</a></li><li><a href=\"/ref/prologue\">prologue</a></li><li><a href=\"/ref/set\">set</a></li><li><a href=\"/ref/sound\">sound</a></li><li><a href=\"/ref/tech\">tech</a></li><li><a href=\"/ref/view\">view</a></li></ul></div><div class=\"module\"><h4>figures</h4>:\n            <ul><li><a href=\"/ref/cell\">cell</a></li><li><a href=\"/ref/figDesc\">figDesc</a></li><li><a href=\"/ref/figure\">figure</a></li></ul></div><div class=\"module\"><h4>header</h4>:\n            <ul><li><a href=\"/ref/change\">change</a></li><li><a href=\"/ref/handNote\">handNote</a></li><li><a href=\"/ref/licence\">licence</a></li><li><a href=\"/ref/rendition\">rendition</a></li><li><a href=\"/ref/scriptNote\">scriptNote</a></li><li><a href=\"/ref/tagUsage\">tagUsage</a></li></ul></div><div class=\"module\"><h4>iso-fs</h4>:\n            <ul><li><a href=\"/ref/fDescr\">fDescr</a></li><li><a href=\"/ref/fsDescr\">fsDescr</a></li></ul></div><div class=\"module\"><h4>linking</h4>:\n            <ul><li><a href=\"/ref/ab\">ab</a></li><li><a href=\"/ref/seg\">seg</a></li></ul></div><div class=\"module\"><h4>msdescription</h4>:\n            <ul><li><a href=\"/ref/accMat\">accMat</a></li><li><a href=\"/ref/acquisition\">acquisition</a></li><li><a href=\"/ref/additions\">additions</a></li><li><a href=\"/ref/collation\">collation</a></li><li><a href=\"/ref/condition\">condition</a></li><li><a href=\"/ref/custEvent\">custEvent</a></li><li><a href=\"/ref/decoNote\">decoNote</a></li><li><a href=\"/ref/filiation\">filiation</a></li><li><a href=\"/ref/foliation\">foliation</a></li><li><a href=\"/ref/layout\">layout</a></li><li><a href=\"/ref/musicNotation\">musicNotation</a></li><li><a href=\"/ref/origin\">origin</a></li><li><a href=\"/ref/provenance\">provenance</a></li><li><a href=\"/ref/signatures\">signatures</a></li><li><a href=\"/ref/source\">source</a></li><li><a href=\"/ref/summary\">summary</a></li><li><a href=\"/ref/support\">support</a></li><li><a href=\"/ref/surrogates\">surrogates</a></li><li><a href=\"/ref/typeNote\">typeNote</a></li></ul></div><div class=\"module\"><h4>namesdates</h4>:\n            <ul><li><a href=\"/ref/occupation\">occupation</a></li></ul></div><div class=\"module\"><h4>spoken</h4>:\n            <ul><li><a href=\"/ref/u\">u</a></li><li><a href=\"/ref/writing\">writing</a></li></ul></div><div class=\"module\"><h4>tagdocs</h4>:\n            <ul><li><a href=\"/ref/attDef\">attDef</a></li><li><a href=\"/ref/classSpec\">classSpec</a></li><li><a href=\"/ref/dataSpec\">dataSpec</a></li><li><a href=\"/ref/elementSpec\">elementSpec</a></li><li><a href=\"/ref/macroSpec\">macroSpec</a></li><li><a href=\"/ref/schemaSpec\">schemaSpec</a></li><li><a href=\"/ref/specGrp\">specGrp</a></li></ul></div><div class=\"module\"><h4>textcrit</h4>:\n            <ul><li><a href=\"/ref/lem\">lem</a></li><li><a href=\"/ref/rdg\">rdg</a></li><li><a href=\"/ref/witness\">witness</a></li></ul></div><div class=\"module\"><h4>textstructure</h4>:\n            <ul><li><a href=\"/ref/argument\">argument</a></li><li><a href=\"/ref/body\">body</a></li><li><a href=\"/ref/div\">div</a></li><li><a href=\"/ref/div1\">div1</a></li><li><a href=\"/ref/div2\">div2</a></li><li><a href=\"/ref/div3\">div3</a></li><li><a href=\"/ref/div4\">div4</a></li><li><a href=\"/ref/div5\">div5</a></li><li><a href=\"/ref/div6\">div6</a></li><li><a href=\"/ref/div7\">div7</a></li><li><a href=\"/ref/docEdition\">docEdition</a></li><li><a href=\"/ref/epigraph\">epigraph</a></li><li><a href=\"/ref/imprimatur\">imprimatur</a></li><li><a href=\"/ref/postscript\">postscript</a></li><li><a href=\"/ref/salute\">salute</a></li><li><a href=\"/ref/signed\">signed</a></li><li><a href=\"/ref/titlePart\">titlePart</a></li><li><a href=\"/ref/trailer\">trailer</a></li></ul></div><div class=\"module\"><h4>transcr</h4>:\n            <ul><li><a href=\"/ref/damage\">damage</a></li><li><a href=\"/ref/metamark\">metamark</a></li><li><a href=\"/ref/mod\">mod</a></li><li><a href=\"/ref/restore\">restore</a></li><li><a href=\"/ref/retrace\">retrace</a></li><li><a href=\"/ref/secl\">secl</a></li><li><a href=\"/ref/supplied\">supplied</a></li><li><a href=\"/ref/surplus\">surplus</a></li></ul></div><div class=\"module\"><h4>verse</h4>:\n            <ul><li><a href=\"/ref/rhyme\">rhyme</a></li></ul></div></td></tr><tr><td>May contain</td><td><div class=\"module\"><h4>core</h4>:\n                <ul><li><a href=\"/ref/desc\">desc</a></li><li><a href=\"/ref/gloss\">gloss</a></li></ul></div><div class=\"module\"><h4>tagdocs</h4>:\n                <ul><li><a href=\"/ref/altIdent\">altIdent</a></li><li><a href=\"/ref/constraint\">constraint</a></li><li><a href=\"/ref/equiv\">equiv</a></li></ul></div></td></tr><tr><td>Note</td><td>\n<p class=\"tei-p\">A child <a class=\"tei-gi\" href=\"/ref/constraint\" target=\"\">constraint</a> is required when the\n    mode attribute has the value replace or\n    add (or is not specified, as add is the\n    default). No child elements are permitted when the mode\n    attribute has the value delete. At least one child\n    element is required when the mode attribute has the\n    value change.</p>\n</td></tr><tr><td>Example</td><td>\n<p class=\"tei-p\">This constraint uses Schematron to enforce the presence of the\n    spanTo attribute (which comes from an attribute class)\n    on the <a class=\"tei-gi\" href=\"/ref/addSpan\" target=\"\">addSpan</a> element: </p>\n<div class=\"tei-ex_egXML1\"><pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;constraintSpec ident=\"demo-c1\" scheme=\"schematron\"&gt;\n        &lt;desc&gt;Enforce the presence of the &lt;att&gt;spanTo&lt;/att&gt; attribute&lt;/desc&gt;\n        &lt;constraint&gt;\n          &lt;sch:assert xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" test=\"@spanTo\"&gt;The spanTo= attribute of &lt;sch:name/&gt;\n          is required.&lt;/sch:assert&gt;\n        &lt;/constraint&gt;\n      &lt;/constraintSpec&gt;\n    </pb-code-highlight></div><pb-popover class=\"alternate tei-ex_egXML2 bibl-link\" id=\"altref_1\"><span slot=\"default\">bibliography</span></pb-popover>\n</td></tr><tr><td>Schematron</td><td>\n<pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;sch:rule xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" context=\"tei:constraintSpec[ @mode eq 'delete']\"&gt;\n        &lt;sch:report test=\"child::*\"&gt;This constraintSpec element has a mode= of \"delete\" even though it has child elements. Change the mode= to \"add\", \"change\", or \"replace\", or remove the child elements.&lt;/sch:report&gt;\n      &lt;/sch:rule&gt;\n      &lt;sch:rule xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" context=\"tei:constraintSpec[ @mode eq 'change']\"&gt;\n        &lt;sch:assert test=\"child::*\"&gt;This constraintSpec element has a mode= of \"change\", but does not have any child elements. Specify child elements, or change the mode= to \"delete\".&lt;/sch:assert&gt;\n      &lt;/sch:rule&gt;\n      &lt;sch:rule xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" context=\"tei:constraintSpec[ @mode = ('add','replace') ]\"&gt;\n        &lt;sch:assert test=\"child::tei:constraint\"&gt;This constraintSpec element has a mode= of \"&lt;sch:value-of select=\"@mode\"/&gt;\", but does not have a child 'constraint' element. Use a child 'constraint' element or change the mode= to \"delete\" or \"change\".&lt;/sch:assert&gt;\n      &lt;/sch:rule&gt;\n    </pb-code-highlight>\n</td></tr><tr><td>Schematron</td><td>\n<span class=\"tei-desc2\">Relationship between scheme attribute and contents: Schematron 1.x</span>\n<pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;sch:ns xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" prefix=\"s\" uri=\"http://www.ascc.net/xml/schematron\"/&gt;\n      &lt;sch:report xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" test=\"tei:constraint/s:* and @scheme = ('isoschematron','schematron')\"&gt;Rules\n        in the Schematron 1.* language must be inside a constraintSpec\n        with a value other than 'schematron' or 'isoschematron' on the\n        scheme attribute&lt;/sch:report&gt;\n    </pb-code-highlight>\n</td></tr><tr><td>Schematron</td><td>\n<span class=\"tei-desc2\">Relationship between scheme attribute and contents: ISO Schematron</span>\n<pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;sch:ns xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" prefix=\"sch\" uri=\"http://purl.oclc.org/dsdl/schematron\"/&gt;\n      &lt;sch:report xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" test=\"tei:constraint/sch:* and not( @scheme eq 'schematron')\"&gt;Rules\n        in the ISO Schematron language must be inside a constraintSpec\n        with the value 'schematron' on the scheme attribute&lt;/sch:report&gt;\n    </pb-code-highlight>\n</td></tr><tr><td>Schematron</td><td>\n<pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;sch:ns xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" prefix=\"sch\" uri=\"http://purl.oclc.org/dsdl/schematron\"/&gt;\n      &lt;sch:rule xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" context=\"tei:macroSpec/tei:constraintSpec[@scheme eq 'schematron']/tei:constraint\"&gt;\n        &lt;sch:report test=\"sch:assert|sch:report\"&gt;An ISO Schematron constraint specification for a macro should not\n        have an 'assert' or 'report' element without a parent 'rule' element&lt;/sch:report&gt;\n      &lt;/sch:rule&gt;\n    </pb-code-highlight>\n</td></tr><tr><td>Schematron</td><td>\n<pb-code-highlight language=\"xml\" theme=\"solarizedlight\">\n      &lt;sch:rule xmlns:sch=\"http://purl.oclc.org/dsdl/schematron\" context=\"tei:constraintSpec[ @mode eq 'add' or not( @mode ) ]\"&gt;\n        &lt;sch:let name=\"myIdent\" value=\"normalize-space(@ident)\"/&gt;\n        &lt;sch:report test=\"preceding::tei:constraintSpec[ normalize-space(@ident) eq $myIdent ]\"&gt;\n        The @ident of 'constraintSpec' should be unique; this one (&lt;sch:value-of select=\"$myIdent\"/&gt;) is the same as that of a previous 'constraintSpec'.\n        &lt;/sch:report&gt;\n      &lt;/sch:rule&gt;\n    </pb-code-highlight>\n</td></tr><tr><td>Content model</td><td><pb-code-highlight language=\"xml\" theme=\"solarizedlight\">&lt;content&gt;\n    &lt;sequence&gt;\n      &lt;alternate minOccurs=\"0\" maxOccurs=\"unbounded\"&gt;\n        &lt;classRef key=\"model.glossLike\"/&gt;\n        &lt;classRef key=\"model.descLike\"/&gt;\n      &lt;/alternate&gt;\n      &lt;elementRef key=\"constraint\" minOccurs=\"0\" maxOccurs=\"1\"/&gt;\n    &lt;/sequence&gt;\n  &lt;/content&gt;</pb-code-highlight></td></tr><!--\n    <tr><td>Schema declaration</td><td>TODO</td></tr>\n--></table></div></div>", "footnotes": "", "userParams": {"mode": "ref", "webcomponents": 7, "lng": "en"}, "collection": ""}